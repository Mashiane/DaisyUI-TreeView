<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ContextMenu Class Documentation</title>
    <link rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>
    <header>
        <h1>ContextMenu Class Documentation</h1>
    </header>
    <main>
        <section>
            <h2>Class: ContextMenu</h2>
            <p>The <code>ContextMenu</code> class is a custom HTML element that provides a dynamic, customizable context menu for web applications.</p>

            <h3>Constructor</h3>
            <pre><code>constructor(options = {})</code></pre>
            <p>Initializes a new instance of the <code>ContextMenu</code> class.</p>
            <ul>
                <li><strong>options</strong> (Object): Configuration options for the context menu. Merges with default settings.</li>
            </ul>

            <h3>Properties</h3>
            <ul>
                <li><strong>items</strong> (Array): Stores the menu items.</li>
                <li><strong>settings</strong> (Object): Stores the merged settings from defaults and user-provided options.</li>
                <li><strong>menu</strong> (HTMLElement): The root <code>&lt;ul&gt;</code> element of the context menu.</li>
                <li><strong>nodeMap</strong> (Map): A map to store nodes by their IDs.</li>
                <li><strong>triggeredElementId</strong> (String): Stores the ID of the element that triggered the context menu.</li>
            </ul>

            <h3>Methods</h3>
            <ul>
                <li>
                    <h4><code>connectedCallback()</code></h4>
                    <p>Called when the element is added to the DOM. Sets up event listeners and initializes the target element.</p>
                </li>
                <li>
                    <h4><code>disconnectedCallback()</code></h4>
                    <p>Called when the element is removed from the DOM. Cleans up event listeners and removes the menu element.</p>
                </li>
                <li>
                    <h4><code>_handleContextMenu(event)</code></h4>
                    <p>Handles the <code>contextmenu</code> event to display the menu.</p>
                </li>
                <li>
                    <h4><code>_handleOutsideClick(event)</code></h4>
                    <p>Handles clicks outside the menu to hide it.</p>
                </li>
                <li>
                    <h4><code>_handleMenuClick(event)</code></h4>
                    <p>Handles clicks on menu items and dispatches a custom <code>ItemClick</code> event.</p>
                </li>
                <li>
                    <h4><code>_showMenu(x, y)</code></h4>
                    <p>Displays the menu at the specified coordinates, adjusting for viewport boundaries.</p>
                </li>
                <li>
                    <h4><code>_hideMenu()</code></h4>
                    <p>Hides the menu.</p>
                </li>
                <li>
                    <h4><code>_clearMenu()</code></h4>
                    <p>Clears all items from the menu.</p>
                </li>
                <li>
                    <h4><code>_populateMenu()</code></h4>
                    <p>Populates the menu with items from the <code>items</code> array.</p>
                </li>
                <li>
                    <h4><code>addNode(parentId, nodeId, iconUrl, label)</code></h4>
                    <p>Adds a new node to the menu.</p>
                    <ul>
                        <li><strong>parentId</strong> (String): The ID of the parent node.</li>
                        <li><strong>nodeId</strong> (String): The ID of the new node.</li>
                        <li><strong>iconUrl</strong> (String): The URL of the icon for the node.</li>
                        <li><strong>label</strong> (String): The label for the node.</li>
                    </ul>
                </li>
                <li>
                    <h4><code>refresh()</code></h4>
                    <p>Refreshes the menu by clearing and repopulating it.</p>
                </li>
            </ul>

            <h3>Events</h3>
            <ul>
                <li>
                    <h4><code>ItemClick</code></h4>
                    <p>Dispatched when a menu item is clicked. Includes the following details:</p>
                    <ul>
                        <li><strong>node</strong> (Object): The node associated with the clicked item.</li>
                        <li><strong>elementId</strong> (String): The ID of the element that triggered the menu.</li>
                    </ul>
                </li>
            </ul>

            <h3>Default Settings</h3>
            <pre><code>{
  iconHeight: "16px",
  iconWidth: "16px",
  itemColor: 'primary',
  itemActiveColor: '',
  itemFocusColor: '',
  itemHoverColor: '',
  menuSize: 'md',
  menuWidth: 'w-56',
  menuShadow: 'shadow-lg',
  menuBackground: 'bg-base-200',
  menuBorderRadius: 'rounded-box',
  menuHorizontal: false
}</code></pre>
        </section>
    </main>
</body>
</html>
